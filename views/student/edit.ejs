<div
  class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
>
  <h1 class="h2">Edit/Delete Student Record</h1>
</div>
<%- include('../partials/_flashMsg') %>
<div class="col py-3">
  <div class="row">
    <div class="col">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/show">Dashboard</a></li>
          <li class="breadcrumb-item active"><%=students.name%></li>
        </ol>
      </nav>
    </div>
    <div class="col text-end fw-lighter">
      <b>Last Updated: <%= new Date(students.updatedAt).toUTCString() %></b>
    </div>
  </div>
</div>

<!--Edit Form Handling-->
<form
  action="/edit/<%= students._id %>?_method=PUT"
  method="POST"
  id="update_student"
>
  <div class="new_user">
    <div class="form-group">
      <label for="rollNo" class="" text-light>Roll No</label>
      <input type="hidden" name="id" value="" />
      <input
        class="disabled"
        type="text"
        name="rollNo"
        value="<%=students.rollNo%>"
        placeholder="123.."
        aria-label="Disabled input example"
        disabled
      />
    </div>
    <div class="form-group">
      <label for="name" class="" text-light>Name</label>
      <input
        type="text"
        name="name"
        value="<%=students.name%>"
        placeholder="John Stonie"
        required
      />
    </div>
    <div class="form-group">
      <label for="dob" class="" text-light>Date of Birth</label>
      <input
        type="date"
        name="dob"
        id="date"
        value="<%=date%>"
        placeholder="12/01/2000"
        required
      />
    </div>
    <div class="form-group">
      <label for="score" class="" text-light>Score</label>
      <input
        type="text"
        name="score"
        value="<%=students.score%>"
        placeholder="1..."
        required
      />
    </div>

    <div class="form-group mb-4">
      <button type="submit" class="btn btn-primary">Update Student</button>

      <button
        type="button"
        class="btn btn-danger"
        data-bs-toggle="modal"
        id="deleteButton"
        data-bs-target="#deleteModal"
      >
        Delete Student
      </button>
    </div>
  </div>
</form>
<!--/Edit Form Handling-->

<!--Delete button modal-->
<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">
          You are about to remove a students record.
        </div>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <p>
          This will remove the student record of
          <b class="fw-bold"><%= students.name%></b><br />
          Are you sure?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <form
          action="/delete/<%= students._id %>?_method=DELETE"
          method="POST"
          class="position-relative"
        >
          <button type="submit" class="btn btn-primary">
            Yes, Remove Student
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
<!--/Delete button modal-->
